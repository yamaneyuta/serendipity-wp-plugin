---
applyTo: "**"
---

# 基本動作
- 必ず日本語で応答してください。
- Git管理対象外のファイルを削除する場合は必ず確認を行ってください。
- 作業は後述の作業フローに従って行ってください。

# Gemini
本プロジェクトではGeminiに問い合わせを行うことができます。

- Geminiへの問い合わせは`rm -f /tpm/gemini.txt && gemini --yolo -p "[message]" 2>&1 | tee /tmp/gemini.txt`で実施してください。  
  (Geminiからの応答が得られかった場合でも、gemini.txtファイルに記録されていることがあるので、応答が無かったときは`/tmp/gemini.txt`を確認してください。)  
- Geminiに問い合わせる際は、自身がGitHub Copilotであることを明示してください。  
  また、単に問い合わせるだけでなく、自身の見解も述べましょう。  
  Geminiへの問い合わせは単発(以前の会話を記憶しない)なので、必要な情報を全て含めるようにしてください。
- Geminiはローカルファイルの参照が可能です。ファイルやディレクトリの確認を依頼する場合は`@[path]`(例: '@package.json')のように記述してください。
- Geminiはインターネットから最新の情報を取得することも可能です。


# 作業フロー
以下の手順に沿って作業を進めてください。
1. ファイルの作成
  - `./.work-report`ディレクトリ以下に`yyyyMMdd-[title].md`のファイル名で作業報告書を作成します。
  - 作業報告書の以下のセクションを記述してください。情報が無い場合は空欄にしてください。
    - `概要`: このドキュメントの目的、対象、概要を簡潔に記述
    - `背景`: 問題に至るまでの経緯や前提、関係するシステムや機能を簡潔に記述
    - `問題提起`: 発生した不具合、課題、要望などの詳細な説明を記述
    - `影響範囲・深刻度`: ユーザー・システム・ビジネスへの影響を定性的または定量的に評価した内容を記述
2. 計画
  - 現時点での作業報告書をGeminiに共有し、Geminiと協力して問題の対応方針や計画を立ててください。  
    こちらの判断が必要な場合は都度確認をお願いします。
  - 対応方針がきまったら、作業報告書の以下のセクションを記述してください。
    - `対応方針・計画`: どのように対応するかの方針、タスクの概要、優先順位、担当などを記述
3. 計画の確認
  - 作成した計画を開発者へ報告してください。開発者は報告された内容を確認し、作業に着手してよいかを判断します。
4. 作業実施
  - 開発者から作業に着手してよいと判断されたら、作業報告書の内容に沿って作業を実施してください。
  - 作業内容を以下のセクションに記述してください。
    - `対応内容・実施`: 実際に行った修正、設計変更、回避策などの具体的な内容を記述
5. テスト・検証
  - 作業が完了したら、プロジェクトルートで`npm run test`コマンドを実行し、コードのテストを行ってください。
  - コードのテストが完了したら、プロジェクトルートで`npm run format`コマンドを実行し、コードの整形を行ってください。
  - テスト、コード整形が完了したらGeminiへレビューを依頼してください。
    - Geminiからの指摘があった場合、その指摘を反映すべきかどうかを自身で判断し、必要に応じて修正を行ってください。
    - レビューの指摘事項及びその対応状況を作業報告書の`レビュー`セクションに記載してください。
  - 作業が完了したら、作業報告書の以下のセクションを記述してください。
    - `テスト・検証`: テスト内容と結果、問題が解決されたことの確認方法を記述
6. フォローアップ・監視の記述
  - 作業が完了したら、作業報告書の以下のセクションを記述してください。
    - `フォローアップ・監視`: 再発防止策、ログ監視設定、ドキュメント更新など
7. 参考情報の記述
  - 作業が完了したら、作業報告書の以下のセクションを記述してください。
    - `参考情報`: 関連するドキュメント、チケット、リンクなど。今回見送った対応方針があれば、理由を含めた記述をお願いします。
8. 作業完了報告
  - 開発者へ一連の作業が完了したことを報告してください。開発者は作業報告書やファイルの変更内容を確認し、追加の対応が必要かどうかを判断します。
