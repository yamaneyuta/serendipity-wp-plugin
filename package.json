{
	"name": "@yamaneyuta/serendipity-wp-plugin",
	"version": "0.8.0",
	"private": true,
	"description": "Example block scaffolded with Create Block tool.",
	"license": "Split License",
	"author": "The WordPress Contributors",
	"main": "build/index.js",
	"scripts": {
		"prebuild": "npm run clean:php-cache",
		"build": "npm run build:graphql-types && tsc --noEmit && npm run build:block",
		"build:block": "wp-scripts build",
		"build:graphql-types": "graphql-codegen",
		"ci:lint": "run-p lint:css lint:js format",
		"ci:test": "run-p coverage:js test:storybook coverage:php",
		"clean": "run-p clean:*",
		"clean:coverage": "rm -rf coverage",
		"clean:js": "rm -rf build/*",
		"clean:php-cache": "rm -rf includes/cache/*.php",
		"count": "git ls-files | grep -E '\\.(php|ts)$' | xargs wc -l | tail -n 1",
		"count:js": "git ls-files | grep '\\.ts$' | xargs wc -l | tail -n 1",
		"count:php": "git ls-files | grep '\\.php$' | xargs wc -l | tail -n 1",
		"coverage": "run-s coverage:*",
		"coverage:js": "jest --coverage",
		"coverage:php": "npm run test:php -- --coverage-html coverage/phpunit",
		"postcoverage:php": "test -f coverage/phpunit/index.html || exit 1",
		"premy-docker:start": "bash ./.devcontainer/development-internal/update-compose-network.sh",
		"my-docker:start": "bash ./.devcontainer/development-internal/start.sh",
		"env:start": "WP_ENV_PHP_VERSION=${PHP_VERSION} WP_ENV_CORE=WordPress/WordPress#${WP_VERSION} wp-env start --xdebug=develop,coverage,debug",
		"env:reset": "wp-env clean all && wp-env start",
		"env:destroy": "wp-env destroy",
		"format": "run-s format:js format:php",
		"format:js": "eslint --fix .bin src && prettier --write .bin src",
		"format:php": "phpcbf .",
		"lint:css": "wp-scripts lint-style",
		"lint:js": "eslint .bin src && prettier --check .bin src",
		"lint:php": "phpcs -s .",
		"packages-update": "wp-scripts packages-update",
		"prepare": "npm run prepare:copy-constants && npm run build",
		"prepare:copy-constants": "cp -f node_modules/@yamaneyuta/serendipity-constants/dist/backend/constants.json includes/assets/",
		"plugin-zip": "wp-scripts plugin-zip",
		"release": "npx release-it",
		"start": "wp-scripts start",
		"start:docker": "run-p env:start my-docker:start",
		"test": "run-s test:js test:php",
		"test:php": "npm run clean:php-cache && npx wp-env run --env-cwd=\"wp-content/plugins/${PWD##*/}\" tests-cli .phpunit/vendor/bin/phpunit -- -c phpunit.xml --testdox",
		"test:js": "jest",
		"test:storybook": "npm run build-storybook && concurrently -k -s first -n \"SB,TEST\" -c \"magenta,blue\" \"npx http-server storybook-static --port 6006 --silent\" \"npx wait-on tcp:6006 && npm run test-storybook\"",
		"test-storybook": "test-storybook --url http://localhost:6006 --coverage --browsers firefox chromium",
		"storybook": "storybook dev -p 6006",
		"build-storybook": "storybook build",
		"update:package": "npx npm-check-updates -u --target minor",
		"watch": "npm run watch:graphql",
		"watch:graphql": "graphql-codegen --watch"
	},
	"# note": {
		"// - devDependencies: ": "",
		"//   - @wordpress/scripts": "",
		"//     - WordPress6.5以前を対象とする場合、はv27を使う必要がある ": "",
		"//       => https://github.com/WordPress/gutenberg/blob/HEAD/packages/scripts/CHANGELOG.md#breaking-changes": ""
	},
	"dependencies": {
		"@tanstack/react-query": "^4.36.1",
		"@types/license-checker": "^25.0.6",
		"@wordpress/block-editor": "^13.4.0",
		"@wordpress/blocks": "^13.6.0",
		"@wordpress/icons": "^10.6.0",
		"assert": "^2.1.0",
		"async-lock": "^1.4.1",
		"fast-deep-equal": "^3.1.3",
		"graphql": "^16.9.0",
		"license-checker": "^25.0.1",
		"tsx": "^4.19.0"
	},
	"devDependencies": {
		"@chromatic-com/storybook": "^1.6.1",
		"@graphql-codegen/cli": "^5.0.2",
		"@graphql-codegen/client-preset": "^4.3.3",
		"@graphql-codegen/typescript-react-query": "^6.1.0",
		"@parcel/watcher": "^2.4.1",
		"@storybook/addon-coverage": "^1.0.4",
		"@storybook/addon-essentials": "^8.2.6",
		"@storybook/addon-interactions": "^8.2.6",
		"@storybook/addon-links": "^8.2.6",
		"@storybook/addon-onboarding": "^8.2.6",
		"@storybook/addon-webpack5-compiler-swc": "^1.0.5",
		"@storybook/blocks": "^8.2.6",
		"@storybook/react": "^8.2.6",
		"@storybook/react-webpack5": "^8.2.6",
		"@storybook/test": "^8.2.6",
		"@storybook/test-runner": "^0.19.1",
		"@testing-library/dom": "^10.4.0",
		"@testing-library/react": "^16.0.0",
		"@types/async-lock": "^1.4.2",
		"@types/jest": "^29.5.12",
		"@types/react": "^18.3.4",
		"@types/react-dom": "^18.3.0",
		"@types/wordpress__block-editor": "^11.5.15",
		"@types/wordpress__blocks": "^12.5.14",
		"@wordpress/env": "^10.4.0",
		"@wordpress/scripts": "^27.9.0",
		"@yamaneyuta/serendipity-constants": "github:yamaneyuta/serendipity-constants#0.8.4",
		"@yamaneyuta/serendipity-dev-conf": "github:yamaneyuta/serendipity-dev-conf#0.8.1",
		"@yamaneyuta/serendipity-lib-frontend": "github:yamaneyuta/serendipity-lib-frontend#0.8.4",
		"@yamaneyuta/serendipity-lib-js-price-format": "github:yamaneyuta/serendipity-lib-js-price-format#0.8.4",
		"concurrently": "^8.2.2",
		"eslint-plugin-storybook": "^0.8.0",
		"jest": "^29.7.0",
		"npm-run-all": "^4.1.5",
		"prettier": "npm:wp-prettier@^3.0.3",
		"prop-types": "^15.8.1",
		"storybook": "^8.2.6",
		"ts-jest": "^29.2.4",
		"ts-node": "^10.9.2"
	}
}
